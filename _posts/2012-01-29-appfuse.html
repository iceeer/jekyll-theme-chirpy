---
layout: post
status: publish
published: true
title: AppFuse
author:
  display_name: iceeer
  login: iceeer
  email: superuser@xystoy.com
  url: ''
author_login: iceeer
author_email: superuser@xystoy.com
wordpress_id: 1407
wordpress_url: http://iceeer.huiq.net/?p=1407
date: '2012-01-29 16:45:13 +0800'
date_gmt: '2012-01-29 08:45:13 +0800'
categories:
- 开发
- Java
tags:
- appfuse
comments: []
---
<p>1、http://appfuse.org/display/APF/AppFuse+QuickStart<br />mvn archetype:generate -B -DarchetypeGroupId=org.appfuse.archetypes -DarchetypeArtifactId=appfuse-basic-spring-archetype -DarchetypeVersion=2.1.1-SNAPSHOT -DgroupId=org.huiq.springdemo -DartifactId=springdemo -DarchetypeRepository=http://oss.sonatype.org/content/repositories/appfuse<br />2、安装Mysql 修改pom.xml <jdbc.url>jdbc:mysql://localhost:3306<br />3、mvn jetty:run<br />4、登录http://localhost:8080/login admin/admin user/user</p>
<p>5、修改pom.xml<br /><amp.genericCore>false</amp.genericCore> 否则只会生成Action<br /><fullSource>true</fullSource><br />修改native2ascii部分</p>
<p>（使用maven 2运行）<br />6、mvn appfuse:full-source 把运行所需要的org.appfuse中的依赖类转换成你的包名称</p>
<p>7、mvn appfuse:gen-model 根据数据库的表生成java类(DAO、Model、Service、Controller、JSP、Test)<br />8、修改/src/main/resources/hibernate.cfg.xml添加需要生成dao,service,action,jsp的模块，生成Dao,Service,Action mvn appfuse:gen -Dentity=Person<br />？上一部已经完成这些内容 9、mvn appfuse:install 把生成的配置文件写入到src目录下的配置文件中？<br />10、mvn jetty:run-war 打包并运行项目</p>
<p>DAO和service的配置文件会生成到：/src/main/webapp/applicationContext.xml中<br />struts的配置文件会生成到：/src/main/resources/struts.xml中</p>
<p>当某张数据表被修改需要更新相应的model时，只需执行mvn appfuse:gen -Dentity=Person<br /> 当添加新的数据表时间，除了执行mvn appfuse:gen -Dentity=yourmodel外，还需要执行<br /> mvn appfuse:install 来把DAO,STRUTS配置写入到SRC下的相应文件中.</p>
<p>执行&ldquo;mvn jetty:run-war&rdquo;时，会根据POJO先删除数据库里的表再重建，如果不想对数据进行操作可以修改pom.xml，将<configuration>下的drop熟悉修改为 false。不过执行&ldquo;mvn jetty:run-war&rdquo;仍然会执行建表操作，出现大量的错误日志，不过没有影响。</p>
<p>执行&ldquo;mvn jetty:run-war&rdquo;时，会清空数据表的数据并插入默认的数据，默认的数据在%PROJECT_HOME%srcmain resourcesdefault-data.xml配置，这个很讨厌。修改pom.xml中的<dbunit.operation.type>的配置为NONE可以屏蔽这部分操作。</p>
<p>http://appfuse.org/display/APF/AppFuse+Maven+Plugin<br />mvn appfuse:gen-model 根据数据库的表生成java类<br />mvn appfuse:gen 根据 POJOs.生成并安装 Tests, DAOs, Managers, Controllers and Views<br />mvn appfuse:full-source 把运行所需要的org.appfuse中的依赖类转换成你的包名称<br />mvn eclipse:eclipse 生成eclipse的项目的配置文件，用户可以直接把项目导入到eclipse中<br />mvn jetty:run-war 打包并且发布你的应用程序到Jetty, 查看在 http://localhost:8080<br />mvn appfuse:install 把生成的源代码及配置文件写入到src中<br />mvn integration-test 启动TOMCAT(或别的服务器)进行测试<br />mvn appfuse:remove 删除appfuse:gen.生成的代码<br />mvn appfuse:clean 清除target下的所有内容<br />appfuse:copy-templates copy the code generation templates into your project</p>
<p>链接：<br />通过AppFuse创建ssh工程问题总结（二） http://up2pu.iteye.com/blog/1254093<br />http://up2pu.iteye.com/blog/1019259</p>

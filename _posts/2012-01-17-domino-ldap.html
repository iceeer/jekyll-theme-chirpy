---
layout: post
status: publish
published: true
title: LDAP学习
author:
  display_name: iceeer
  login: iceeer
  email: superuser@xystoy.com
  url: ''
author_login: iceeer
author_email: superuser@xystoy.com
wordpress_id: 1382
wordpress_url: http://iceeer.huiq.net/?p=1382
date: '2012-01-17 10:25:40 +0800'
date_gmt: '2012-01-17 02:25:40 +0800'
categories:
- 开发
- Domino/Notes
tags:
- AD
- Domino
- LDAP
- SSO
- 域
- 目录
comments: []
---
<p><strong>CN, OU, DC</strong> 都是 LDAP 连接服务器的端字符串中的区别名称（DN, distinguished&nbsp;&nbsp; name）</p>
<p>LDAP连接服务器的连接字串格式为：ldap://servername/DN</p>
<p>其中DN有三个属性，分别是CN,OU,DC</p>
<p>LDAP是一种通讯协议，如同HTTP是一种协议一样的！</p>
<p>在 LDAP 目录中，</p>
<ul>
<li>DC (Domain Component)</li>
<li>CN (Common Name)</li>
<li>OU (Organizational Unit)</li>
</ul>
<p>LDAP 目录类似于文件系统目录。<br />
下列目录：<br />
DC=redmond,DC=wa,DC=microsoft,DC=com</p>
<p>如果我们类比文件系统的话，可被看作如下文件路径:<br />
ComMicrosoftWaRedmond</p>
<p>例如：CN=test,OU=developer,DC=domainname,DC=com<br />
在上面的代码中 cn=test 可能代表一个用户名，ou=developer 代表一个 active directory 中的组织单位。这句话的含义可能就是说明 test 这个对象处在domainname.com 域的 developer 组织单元中。</p>
<p><strong>Domino LDAP</strong></p>
<p>关闭LDAP:ServerTasks中去掉LDAP;设置 DisableLDAPOnAdmin=1(停止在 Domino 目录的管理服务器上运行 LDAP 服务)</p>
<p>启用Domino LDAP服务<br />
（一）在Domino服务器notes.ini中增加LDAP任务<br />
（二）设置LDAP的端口号<br />
（三）配置LDAP的Internet站点参数<br />
（四）定制对目录的匿名 LDAP 搜索权限</p>
<p><a href="http://www-01.ibm.com/support/docview.wss?uid=swg21203191">调试LDAP：LDAPDEBUG=7</a></p>
<p>验证Domino LDAP<br />
ldapsearch -h ldap.example.com -s base objectclass=*</p>
<p>ldapsearch -h ldap.example.com "cn=admin" +</p>
<pre>ldapsearch <em>parameters searchfilter attributes</em></pre>
<pre></pre>
<p><strong>Web管理LDAP-phpldapadmin</strong><br />
修改php.ini确认有这行：extension=php_ldap.dll<br />
配置configconfig.php:<br />
$servers->setValue('server','host','10.136.238.54'); 设置LDAp地址<br />
错误：Undefined variable: _SESSION in page.php on line 379 phpldapadmin<br />
解决：创建configconfig.php文件</p>
<pre><strong><em><a title="Mantis集成LDAP" href="/?p=1573">Mantis集成LDAP</a></em></strong></pre>
<pre><strong>&nbsp;</strong></pre>
<pre><strong>链接：<a href="http://blog.csdn.net/SquallZhong/archive/2010/05/20/5611518.aspx">原创&nbsp; Domino与AD帐户同步并且与AD域实现SSO</a></strong></pre>
